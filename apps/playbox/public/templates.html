<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
		<meta name="ROBOTS" content="NONE" />
		<script type="text/javascript">
			/*<![CDATA[*/
			top.LIB.addEvent('load', function() {
				top.document.getElementsByTagName("body")[0].appendChild(top.document.importNode(document.getElementById("templates"), true));
				top.LIB.loadedLib({templates: true});
			}, window);
			/*]]>*/
		</script>
	</head>
	<body>
		<div id="templates" style="display:none">
			
			<xmp id="template_loading">
				<div>loading...</div>
			</xmp>
			
			<xmp id="template_sidebar">
				<ul>
					<li><a href="#/library">library</a></li>
					<li><a href="#/config">config</a></li>
				</ul>
			</xmp>
			
			<xmp id="template_footer">
				<ul>
					<li id="menu_version">
						<a href="#/version">version</a>
					</li>
					<li id="menu_about">
						<a href="#/about">about</a>
					</li>
				</ul>
			</xmp>
			
			<xmp id="template_home">
				<h4>
					about
				</h4>
				<div>
					playbox-0.2 - preview version
				</div>
			</xmp>
			
			<xmp id="template_test">
				<div>
					test panel
				</div>
				<?
				for(var i = 0; i < 5; i++) {
					?>
					<div>
						<?
						if(i == 1) {
							?>one<?
						} else if(i == 2) {
							?>two<?
						} else if(i > 2) {
							?>i:<?=i?><?
						}
						?>
					</div>
					<?
				}
				?>
			</xmp>
			
			<xmp id="template_player">
				<div>testing some stuff out...</div>
				<div id="song_list">
					<?=SKIN.data_template("library_entry", "query", {})?>
				</div>
			</xmp>
			
			<xmp id="template_library_entry">
				<div onclick="play_song(d.id)">
					<div style="display:inline">
						<?=d.name?>
					</div>
					<div style="display:inline;float:right">
						<?=LIB.formatTime(d.time)?>
					</div>
				</div>
			</xmp>
			
			<xmp id="template_empty">
				empty - no data
			</xmp>
			
			<xmp id="template_library">
				<h2>library</h2>
				<?=SKIN.data_template("library_entry", "query", {}, {add: "archive_added", remove: "archive_deleted", update: "archive_updated"})?>
			</xmp>
			
			<xmp id="template_config">
				<h2>
					config
				</h2>
				<h4>
					directories
				</h4>
				<?=SKIN.data_template("directory_entry", "get_dirs", {}, {add: "dir_added", remove: "dir_deleted", update: "dir_updated"})?>
				<hr />
				<?=SKIN.data_template("dir_entry", "list_dir", {})?>
				<h4>
					cache
				</h4>
			</xmp>
			
			<xmp id="template_dir_entry">
				<div>
					<?
					if(d.dir) {
						?>
						<button onclick="alert('not yet implemented')">add</button>
						<a href="javascript:;" onclick="dir_item(this, d.root+d.dir)">
							<button>+</button> <?=d.root+d.dir?>
						</a>
						<?
					} else {
						?>
						<em>empty</em>
						<?
					}
					?>
				</div>
			</xmp>
			
			<xmp id="template_directory_entry">
				<div>
					<button onclick="alert('not yet implemented')">remove</button>
					<em><?=d._id?></em>
				</div>
				<div>
					archives: <em><?=d.archives.length?></em>
				</div>
				<div>
					processing: <em><?=d.processing.length?></em>
				</div>
				<div>
					queued: <em><?=d.queued.length?></em>
				</div>
			</xmp>
			
			<xmp id="template_app_button">
				<h4>
					<?=d.id?>
				</h4>
				<div>
					(<?=d.desc?>)
				</div>
				<?
				console.log("app", d);
				?>
			</xmp>
			
		</div>
	</body>
</html>
